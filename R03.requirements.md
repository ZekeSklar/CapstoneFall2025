# Requirements — Berea College Printing Services

This document lists functional and non‑functional requirements derived from the current scope. Each item includes an evaluation method and priority.

## Functional Requirements

- FR‑1 Inventory management
  - Statement: Admins can create, edit, search, and export printers (with groups/comments) and inventory items.
  - Evaluation: Use Admin to add/edit a printer and export CSV; verify fields persist and export content is correct.
  - Dependency: None
  - Priority: Essential

- FR‑2 Ticketing: supplies and issues
  - Statement: Users (QR portal) and staff can submit supply and issue tickets; emails are sent to configured recipients.
  - Evaluation: Submit tickets and verify database row and email delivery.
  - Dependency: FR‑1 (printer exists); ENV mail config
  - Priority: Essential

- FR‑3 Issue rate limiting
  - Statement: For each printer, accept at most 3 issue reports per rolling hour; always show a “thank you.”
  - Evaluation: Submit >3 issues for the same printer within an hour; verify only 3 stored while response is still success.
  - Dependency: FR‑2
  - Priority: High

- FR‑4 Live SNMP status
  - Statement: For a printer with IP and SNMP read community, show latest status, device status, error flags, alerts, and supplies when available; manual Refresh and 5‑minute cadence.
  - Evaluation: Open Admin → Printer page; click Refresh; confirm fields update; verify 5‑minute auto‑refresh on dashboard.
  - Dependency: ENV SNMP_*; network reachability
  - Priority: Essential

- FR‑5 Admin index alerts
  - Statement: Admin index shows a roll‑up list for attention/SNMP faults.
  - Evaluation: Induce a device error or unreachable SNMP; verify it appears in the section.
  - Dependency: FR‑4
  - Priority: High

- FR‑6 Daily issue summary email
  - Statement: Once per interval (default 24h) send a digest of open issues to ENV recipient and any subscribed superusers.
  - Evaluation: Trigger via middleware or management command; verify email contents and recipient list.
  - Dependency: ENV mail config
  - Priority: High

- FR‑7 Manager dashboard
  - Statement: Managers see their group’s printers with live status and can Refresh one/all.
  - Evaluation: Open dashboard as manager with assignments; verify permissions and controls.
  - Dependency: FR‑1, FR‑4
  - Priority: High

- FR‑8 Public QR portal
  - Statement: Non‑authenticated users can submit supplies/issues for a QR‑addressed printer.
  - Evaluation: Hit QR page; submit ticket; verify creation and email.
  - Dependency: FR‑2
  - Priority: Essential

- FR‑9 Configuration via .env
  - Statement: Email and SNMP behavior is controlled via environment variables.
  - Evaluation: Change values in `.env`; restart server; observe new behavior.
  - Dependency: None
  - Priority: Essential

## Non‑Functional Requirements

- NFR‑1 Performance: SNMP requests time out within `SNMP_TIMEOUT` (default 5s) and use minimal retries; UI remains responsive.
- NFR‑2 Reliability: SNMP v2c is used with automatic fallback to v1; errors are surfaced gracefully.
- NFR‑3 Security: Live status and manager endpoints require authentication/authorization; QR portal exposes only necessary fields.
- NFR‑4 Maintainability: Status snapshots persisted in `PrinterStatus` with polling interval gating; code organized into modules; migrations tracked.
- NFR‑5 Observability: Admin index shows summary indicators; JSON feeds include timestamps for “Last sync.”

## Revision History
- 2025‑10‑05: Initial version aligned with implemented features (SNMP live status, rate limiting, daily digest, dashboards).


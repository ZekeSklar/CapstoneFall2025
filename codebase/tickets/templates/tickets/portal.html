<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ printer.campus_label }} - Printer Portal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      :root{
        --bg:#080b12;
        --card:#121722;
        --border:#1d2433;
        --text:#e6ecff;
        --muted:#9aa3b8;
        --primary:#0b5cd6;
        --secondary:#0c7c59;
        --disabled:#233047;
      }
      body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);margin:0;padding:2.5rem 1.25rem;}
      .card{max-width:720px;margin:0 auto 1.5rem;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1.75rem;box-shadow:0 6px 14px rgba(8,11,18,.35);}
      h1,h2{margin:0 0 .75rem;font-weight:600;color:var(--text);}
      .muted{color:var(--muted);font-size:.95rem;}
      .button{display:inline-flex;align-items:center;justify-content:center;margin-top:.85rem;padding:.7rem 1.35rem;border-radius:6px;text-decoration:none;font-weight:600;color:#fff;border:1px solid transparent;transition:filter .15s ease;}
      .button.order{background:var(--primary);border-color:var(--primary);}
      .button.issue{background:var(--secondary);border-color:var(--secondary);}
      .button.disabled{background:var(--disabled);border-color:var(--disabled);cursor:not-allowed;}
      .button:hover:not(.disabled){filter:brightness(1.05);}
      .note{font-size:.95rem;color:var(--muted);margin-top:.6rem;}
    </style>
  </head>
  <body>
    <div class="card">
      <h1>{{ printer.campus_label }} - {{ printer.asset_tag }}</h1>
      <p class="muted">
        {{ printer.make }} {{ printer.model }} | {{ printer.building }} / {{ printer.location_in_building }}
      </p>
    </div>

    <div class="card">
      <h2>Order Supplies (Staff Only)</h2>
      <p class="muted">Printing Services staff can request toner, staples, or other consumables for this device.</p>
      {% if can_order %}
        <a class="button order" href="{% url 'printer_order' printer.qr_token %}">Order Supplies</a>
      {% elif request.user.is_authenticated %}
        <a class="button order disabled" aria-disabled="true">Order Supplies</a>
        <p class="note">You must have staff access to order supplies.</p>
      {% else %}
        <a class="button order" href="{% url 'printer_order' printer.qr_token %}">Order Supplies</a>
        <p class="note">You'll be asked to sign in with your staff account before ordering supplies.</p>
      {% endif %}
    </div>

    <div class="card">
      <h2>Report an Issue</h2>
      <p class="muted">Students and staff can report printer problems here so the support team can help.</p>
      <a class="button issue" href="{% url 'printer_issue' printer.qr_token %}">Report an Issue</a>
    </div>
  </body>
</html>
